{"version":3,"file":"weather-Dhq2rcfG.js","sources":["../../src/pages/Vanya/weather.js"],"sourcesContent":["import './weather.css'\n\nexport default function Weather() {\n    return `\n            <section class=\"weather-page\">\n                <div class=\"weather-widgets\">\n                    <div class=\"card\">\n                        <h1 class=\"card_title\">Weather App</h1>\n                        <p class=\"card_date\">Today, <span id=\"date\"></span></p>\n                        <div class=\"card_search\">\n                            <input type=\"text\" class=\"card_input\" placeholder=\"Enter city name\" />\n                            <button id=\"searchBtn\" class=\"card_btn\">\n                                <span class=\"theme-icon\">üîç</span>\n                            </button>\n                        </div>\n                        <div class=\"card_weather\">\n                            <h2 class=\"card_title card_title--city\" id=\"city\">New York</h2>\n                            <div class=\"card_block\">\n                                <h3 class=\"card_title card_title--temp\">22¬∞C</h3>\n                                <img src=\"\" class=\"card_weather-icon\" alt=\"Weather Icon\">\n                            </div>\n                            <div class=\"weather-details\">\n                                <div class=\"detail-item\">\n                                    <i class=\"fa-solid fa-droplet\"></i>\n                                    <span><strong>–í–ª–∞–∂–Ω–æ—Å—Ç—å:</strong> <span id=\"humidity\">50%</span></span>\n                                </div>\n                                <div class=\"detail-item\">\n                                    <i class=\"fa-solid fa-wind\"></i>\n                                    <span><strong>–°–∫–æ—Ä–æ—Å—Ç—å –≤–µ—Ç—Ä–∞:</strong> <span id=\"wind\">15 m/s</span></span>\n                                </div>\n                            </div>\n                        </div>\n                        <p id=\"error-message\" class=\"error-message\" style=\"display: none;\">–ù–µ —Å–º–æ–≥–ª–∏ –Ω–∞–π—Ç–∏ —ç—Ç–æ—Ç –≥–æ—Ä–æ–¥</p>\n                    </div>\n                    <div class=\"forecast-card\" id=\"forecast-card\">\n                        <h1 class=\"forecast-title\">5-Day Forecast</h1>\n                        <div class=\"forecast-container\" id=\"forecast\"></div>\n                    </div>\n                </div>\n            </section>\n    `\n}\n\nWeather.init = function() {\n    const apiKey = '89c563ae16caa06090600ce6b5abf65a'\n    const card = document.querySelector('.card')\n    const searchBox = document.querySelector('.card_input')\n    const searchBtn = document.getElementById('searchBtn')\n    const temp = document.querySelector('.card_title--temp')\n    const city = document.querySelector('.card_title--city')\n    const icon = document.querySelector('.card_weather-icon')\n    const date = document.getElementById('date')\n    const forecastContainer = document.getElementById('forecast')\n    const forecastCard = document.getElementById('forecast-card')\n    const errorMessage = document.getElementById('error-message')\n    const humidity = document.getElementById('humidity')\n    const wind = document.getElementById('wind')\n\n    const showDate = () => {\n        const now = new Date()\n        const day = now.getDate()\n        const monthName = now.toLocaleString('en', { month: 'long' })\n        date.innerHTML = `${day} ${monthName}`\n    }\n\n    async function getWeather(cityName) {\n        cityName = cityName.trim()\n        if (!cityName) return\n        try {\n            errorMessage.style.display = 'none'\n            const response = await fetch(\n                `https://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=${apiKey}&units=metric`\n            )\n            if (!response.ok) throw new Error('City not found')\n            const result = await response.json()\n            card.classList.add('active')\n            card.style.height = 'auto'\n            icon.src = `https://openweathermap.org/img/wn/${result.weather[0].icon}@2x.png`\n            city.innerHTML = result.name\n            temp.innerHTML = `${Math.round(result.main.temp)}¬∞C`\n            humidity.innerHTML = `${result.main.humidity}%`\n            wind.innerHTML = `${result.wind.speed} m/s`\n            const forecastResponse = await fetch(\n                `https://api.openweathermap.org/data/2.5/forecast?lat=${result.coord.lat}&lon=${result.coord.lon}&appid=${apiKey}&units=metric`\n            )\n            if (!forecastResponse.ok) throw new Error('Forecast not found')\n\n            const forecastResult = await forecastResponse.json()\n            renderForecast(forecastResult)\n            forecastCard.style.display = 'block'\n            setTimeout(() => {\n                card.classList.add('move-left')\n                forecastCard.classList.add('move-right')\n            }, 10)\n        } catch (err) {\n            errorMessage.textContent = '–ù–µ —Å–º–æ–≥–ª–∏ –Ω–∞–π—Ç–∏ —ç—Ç–æ—Ç –≥–æ—Ä–æ–¥'\n            errorMessage.style.display = 'block'\n            card.classList.remove('active')\n            card.style.height = '230px'\n            forecastContainer.innerHTML = ''\n            forecastCard.style.display = 'none'\n            card.classList.remove('move-left')\n            forecastCard.classList.remove('move-right')\n        }\n    }\n\n    function renderForecast(data) {\n        forecastContainer.innerHTML = ''\n\n        const dailyForecasts = {}\n        data.list.forEach(item => {\n            const date = item.dt_txt.split(' ')[0]\n            if (!dailyForecasts[date]) dailyForecasts[date] = []\n            dailyForecasts[date].push(item)\n        })\n\n        const days = Object.keys(dailyForecasts).slice(1, 6) // Next 5 days\n\n        days.forEach(date => {\n            const dayData = dailyForecasts[date][0] // First entry\n            const dateObj = new Date(dayData.dt * 1000)\n            const dayName = dateObj.toLocaleString('en', { weekday: 'short' })\n\n            const forecastItem = document.createElement('div')\n            forecastItem.className = 'forecast-item'\n            forecastItem.innerHTML = `\n                <p>${dayName}</p>\n                <img src=\"https://openweathermap.org/img/wn/${dayData.weather[0].icon}@2x.png\" alt=\"Forecast Icon\">\n                <p>${Math.round(dayData.main.temp)}¬∞C</p>\n            `\n            forecastContainer.appendChild(forecastItem)\n        })\n    }\n\n    searchBtn.addEventListener('click', () => getWeather(searchBox.value))\n    searchBox.addEventListener('keypress', (e) => {\n        if (e.key === 'Enter') getWeather(searchBox.value)\n    })\n\n    document.addEventListener('click', (e) => {\n        if (card.classList.contains('active') && !card.contains(e.target) && !forecastCard.contains(e.target)) {\n            resetWeatherData();\n\n            card.classList.remove('active')\n            card.style.height = '230px'\n            searchBox.value = ''\n            forecastContainer.innerHTML = ''\n            errorMessage.style.display = 'none'\n\n            card.classList.remove('move-left')\n            forecastCard.classList.remove('move-right')\n            setTimeout(() => {\n                forecastCard.style.display = 'none'\n            }, 300)\n        }\n    })\n\n    showDate()\n}"],"names":["Weather","apiKey","card","searchBox","searchBtn","temp","city","icon","date","forecastContainer","forecastCard","errorMessage","humidity","wind","showDate","now","day","monthName","getWeather","cityName","response","result","forecastResponse","forecastResult","renderForecast","data","dailyForecasts","item","dayData","dayName","forecastItem"],"mappings":"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"}