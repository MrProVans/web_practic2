{"version":3,"file":"movies-Du1PJPM6.js","sources":["../../src/pages/Victor/movies.js"],"sourcesContent":["// movies.js\r\nimport './movies.css';\r\n\r\nexport default function Movies() {\r\n    return `\r\n        <section class=\"movies-page\">\r\n            <div class=\"movies-wrapper\">\r\n                <div class=\"text-center mb-3\">\r\n                    <h1>üé¨ –ü–æ–∏—Å–∫ —Ñ–∏–ª—å–º–æ–≤</h1>\r\n                    <p style=\"color: var(--text-secondary);\">–ù–∞–π–¥–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ª—é–±–æ–º —Ñ–∏–ª—å–º–µ —á–µ—Ä–µ–∑ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö OMDB</p>\r\n                </div>\r\n\r\n                <div class=\"card mb-3 search-card\">\r\n                    <div class=\"form-group\">\r\n                        <label for=\"movie-search\" class=\"form-label\" style=\"color: #FFFFFF\">–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞</label>\r\n                        <div class=\"search-container\">\r\n                            <input \r\n                                type=\"text\" \r\n                                id=\"movie-search\" \r\n                                class=\"form-input search-input\" \r\n                                placeholder=\"–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞...\"\r\n                                autocomplete=\"off\"\r\n                            >\r\n                            <button id=\"search-movie\" class=\"btn search-btn\">\r\n                                üîç –ù–∞–π—Ç–∏\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div id=\"movies-results\">\r\n                    <div class=\"card text-center p-3 default-state\">\r\n                        <p style=\"color: var(--text-muted);\">–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    `;\r\n}\r\n\r\nMovies.init = function() {\r\n    const apiKey = '7e9d04cc'; // –í–∞—à —Ä–∞–±–æ—á–∏–π –∫–ª—é—á\r\n    \r\n    const searchInput = document.getElementById('movie-search');\r\n    const searchButton = document.getElementById('search-movie');\r\n    const resultsContainer = document.getElementById('movies-results');\r\n\r\n    // –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É\r\n    function isEmptyQuery(query) {\r\n        return !query || query.trim() === '';\r\n    }\r\n\r\n    // –§—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ —Ñ–∏–ª—å–º–∞\r\n    async function searchMovie(query) {\r\n        if (isEmptyQuery(query)) {\r\n            displayError('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞');\r\n            return;\r\n        }\r\n\r\n        searchButton.disabled = true;\r\n        searchButton.textContent = '–ü–æ–∏—Å–∫...';\r\n        \r\n        try {\r\n            const response = await fetch(`https://www.omdbapi.com/?apikey=${apiKey}&t=${encodeURIComponent(query)}&plot=full`);\r\n            \r\n            if (!response.ok) {\r\n                throw new Error(`HTTP error! status: ${response.status}`);\r\n            }\r\n            \r\n            const data = await response.json();\r\n\r\n            if (data.Response === 'True') {\r\n                displayMovie(data);\r\n            } else {\r\n                displayError(data.Error || '–§–∏–ª—å–º –Ω–µ –Ω–∞–π–¥–µ–Ω. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.');\r\n            }\r\n        } catch (error) {\r\n            console.error('–û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞:', error);\r\n            displayError('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É.');\r\n        } finally {\r\n            searchButton.disabled = false;\r\n            searchButton.textContent = 'üîç –ù–∞–π—Ç–∏';\r\n        }\r\n    }\r\n\r\n    // –§—É–Ω–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∏–ª—å–º–µ\r\n    function displayMovie(movie) {\r\n        const rating = movie.Ratings?.find(r => r.Source === 'Internet Movie Database')?.Value || '–ù–µ—Ç –æ—Ü–µ–Ω–æ–∫';\r\n        const actors = movie.Actors || '–ù–µ —É–∫–∞–∑–∞–Ω—ã';\r\n        const director = movie.Director || '–ù–µ —É–∫–∞–∑–∞–Ω';\r\n        const genre = movie.Genre || '–ù–µ —É–∫–∞–∑–∞–Ω';\r\n        const plot = movie.Plot || '–û–ø–∏—Å–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç';\r\n        const poster = movie.Poster !== 'N/A' ? movie.Poster : 'https://via.placeholder.com/300x450/3498db/ffffff?text=No+Poster';\r\n\r\n        resultsContainer.innerHTML = `\r\n            <div class=\"card movie-card\">\r\n                <div class=\"movie-content\">\r\n                    <div class=\"movie-poster-section\">\r\n                        <img \r\n                            src=\"${poster}\" \r\n                            alt=\"${movie.Title}\"\r\n                            class=\"movie-poster\"\r\n                            onerror=\"this.src='https://via.placeholder.com/300x450/3498db/ffffff?text=No+Poster'\"\r\n                        >\r\n                    </div>\r\n                    \r\n                    <div class=\"movie-info-section\">\r\n                        <div class=\"movie-header\">\r\n                            <h2 class=\"movie-title\">${movie.Title}</h2>\r\n                            <div class=\"movie-badges\">\r\n                                <span class=\"movie-badge\">${movie.Year}</span>\r\n                                <span class=\"movie-badge\">${movie.Runtime}</span>\r\n                                <span class=\"movie-badge\">${movie.Rated}</span>\r\n                                <span class=\"movie-badge rating\">${rating}</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"movie-details\">\r\n                            <div class=\"detail-item\">\r\n                                <strong>üé≠ –ñ–∞–Ω—Ä:</strong>\r\n                                <span>${genre}</span>\r\n                            </div>\r\n                            <div class=\"detail-item\">\r\n                                <strong>üé¨ –†–µ–∂–∏—Å—Å–µ—Ä:</strong>\r\n                                <span>${director}</span>\r\n                            </div>\r\n                            <div class=\"detail-item\">\r\n                                <strong>üë• –ê–∫—Ç—ë—Ä—ã:</strong>\r\n                                <span>${actors}</span>\r\n                            </div>\r\n                            <div class=\"detail-item\">\r\n                                <strong>üèÜ –ù–∞–≥—Ä–∞–¥—ã:</strong>\r\n                                <span>${movie.Awards || '–ù–µ —É–∫–∞–∑–∞–Ω—ã'}</span>\r\n                            </div>\r\n                            <div class=\"detail-item\">\r\n                                <strong>üìÖ –í—ã–ø—É—Å–∫:</strong>\r\n                                <span>${movie.Released}</span>\r\n                            </div>\r\n                            <div class=\"detail-item\">\r\n                                <strong>üíµ –°–±–æ—Ä—ã:</strong>\r\n                                <span>${movie.BoxOffice || '–ù–µ —É–∫–∞–∑–∞–Ω—ã'}</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"movie-plot\">\r\n                            <h4>üìñ –°—é–∂–µ—Ç</h4>\r\n                            <p>${plot}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    // –§—É–Ω–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–∫–∏\r\n    function displayError(message) {\r\n        resultsContainer.innerHTML = `\r\n            <div class=\"card text-center error-state\">\r\n                <div class=\"error\">\r\n                    <h3 style=\"color: var(--accent-color); margin-bottom: 1rem;\">üòï –ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ —Ñ–∏–ª—å–º</h3>\r\n                    <p>${message}</p>\r\n                </div>\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π\r\n    searchButton.addEventListener('click', () => {\r\n        const query = searchInput.value.trim();\r\n        searchMovie(query);\r\n    });\r\n\r\n    searchInput.addEventListener('keypress', (e) => {\r\n        if (e.key === 'Enter') {\r\n            const query = searchInput.value.trim();\r\n            searchMovie(query);\r\n        }\r\n    });\r\n\r\n    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –≤–≤–æ–¥–µ - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –æ—Ç–ø—Ä–∞–≤–∫—É —Ç–æ–ª—å–∫–æ –ø—Ä–æ–±–µ–ª–æ–≤\r\n    searchInput.addEventListener('input', () => {\r\n        if (isEmptyQuery(searchInput.value)) {\r\n            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –µ—Å–ª–∏ –ø–æ–ª–µ –ø—É—Å—Ç–æ–µ\r\n            resultsContainer.innerHTML = `\r\n                <div class=\"card text-center p-3 default-state\">\r\n                    <p style=\"color: var(--text-muted);\">–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞</p>\r\n                </div>\r\n            `;\r\n        }\r\n    });\r\n};"],"names":["Movies","apiKey","searchInput","searchButton","resultsContainer","isEmptyQuery","query","searchMovie","displayError","response","data","displayMovie","error","movie","rating","r","actors","director","genre","plot","poster","message"],"mappings":"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"}