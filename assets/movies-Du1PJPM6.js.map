{"version":3,"file":"movies-Du1PJPM6.js","sources":["../../src/pages/Victor/movies.js"],"sourcesContent":["// movies.js\nimport './movies.css';\n\nexport default function Movies() {\n    return `\n        <section class=\"movies-page\">\n            <div class=\"movies-wrapper\">\n                <div class=\"text-center mb-3\">\n                    <h1>üé¨ –ü–æ–∏—Å–∫ —Ñ–∏–ª—å–º–æ–≤</h1>\n                    <p style=\"color: var(--text-secondary);\">–ù–∞–π–¥–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ª—é–±–æ–º —Ñ–∏–ª—å–º–µ —á–µ—Ä–µ–∑ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö OMDB</p>\n                </div>\n\n                <div class=\"card mb-3 search-card\">\n                    <div class=\"form-group\">\n                        <label for=\"movie-search\" class=\"form-label\" style=\"color: #FFFFFF\">–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞</label>\n                        <div class=\"search-container\">\n                            <input \n                                type=\"text\" \n                                id=\"movie-search\" \n                                class=\"form-input search-input\" \n                                placeholder=\"–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞...\"\n                                autocomplete=\"off\"\n                            >\n                            <button id=\"search-movie\" class=\"btn search-btn\">\n                                üîç –ù–∞–π—Ç–∏\n                            </button>\n                        </div>\n                    </div>\n                </div>\n\n                <div id=\"movies-results\">\n                    <div class=\"card text-center p-3 default-state\">\n                        <p style=\"color: var(--text-muted);\">–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞</p>\n                    </div>\n                </div>\n            </div>\n        </section>\n    `;\n}\n\nMovies.init = function() {\n    const apiKey = '7e9d04cc'; // –í–∞—à —Ä–∞–±–æ—á–∏–π –∫–ª—é—á\n    \n    const searchInput = document.getElementById('movie-search');\n    const searchButton = document.getElementById('search-movie');\n    const resultsContainer = document.getElementById('movies-results');\n\n    // –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É\n    function isEmptyQuery(query) {\n        return !query || query.trim() === '';\n    }\n\n    // –§—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ —Ñ–∏–ª—å–º–∞\n    async function searchMovie(query) {\n        if (isEmptyQuery(query)) {\n            displayError('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞');\n            return;\n        }\n\n        searchButton.disabled = true;\n        searchButton.textContent = '–ü–æ–∏—Å–∫...';\n        \n        try {\n            const response = await fetch(`https://www.omdbapi.com/?apikey=${apiKey}&t=${encodeURIComponent(query)}&plot=full`);\n            \n            if (!response.ok) {\n                throw new Error(`HTTP error! status: ${response.status}`);\n            }\n            \n            const data = await response.json();\n\n            if (data.Response === 'True') {\n                displayMovie(data);\n            } else {\n                displayError(data.Error || '–§–∏–ª—å–º –Ω–µ –Ω–∞–π–¥–µ–Ω. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.');\n            }\n        } catch (error) {\n            console.error('–û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞:', error);\n            displayError('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É.');\n        } finally {\n            searchButton.disabled = false;\n            searchButton.textContent = 'üîç –ù–∞–π—Ç–∏';\n        }\n    }\n\n    // –§—É–Ω–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∏–ª—å–º–µ\n    function displayMovie(movie) {\n        const rating = movie.Ratings?.find(r => r.Source === 'Internet Movie Database')?.Value || '–ù–µ—Ç –æ—Ü–µ–Ω–æ–∫';\n        const actors = movie.Actors || '–ù–µ —É–∫–∞–∑–∞–Ω—ã';\n        const director = movie.Director || '–ù–µ —É–∫–∞–∑–∞–Ω';\n        const genre = movie.Genre || '–ù–µ —É–∫–∞–∑–∞–Ω';\n        const plot = movie.Plot || '–û–ø–∏—Å–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç';\n        const poster = movie.Poster !== 'N/A' ? movie.Poster : 'https://via.placeholder.com/300x450/3498db/ffffff?text=No+Poster';\n\n        resultsContainer.innerHTML = `\n            <div class=\"card movie-card\">\n                <div class=\"movie-content\">\n                    <div class=\"movie-poster-section\">\n                        <img \n                            src=\"${poster}\" \n                            alt=\"${movie.Title}\"\n                            class=\"movie-poster\"\n                            onerror=\"this.src='https://via.placeholder.com/300x450/3498db/ffffff?text=No+Poster'\"\n                        >\n                    </div>\n                    \n                    <div class=\"movie-info-section\">\n                        <div class=\"movie-header\">\n                            <h2 class=\"movie-title\">${movie.Title}</h2>\n                            <div class=\"movie-badges\">\n                                <span class=\"movie-badge\">${movie.Year}</span>\n                                <span class=\"movie-badge\">${movie.Runtime}</span>\n                                <span class=\"movie-badge\">${movie.Rated}</span>\n                                <span class=\"movie-badge rating\">${rating}</span>\n                            </div>\n                        </div>\n\n                        <div class=\"movie-details\">\n                            <div class=\"detail-item\">\n                                <strong>üé≠ –ñ–∞–Ω—Ä:</strong>\n                                <span>${genre}</span>\n                            </div>\n                            <div class=\"detail-item\">\n                                <strong>üé¨ –†–µ–∂–∏—Å—Å–µ—Ä:</strong>\n                                <span>${director}</span>\n                            </div>\n                            <div class=\"detail-item\">\n                                <strong>üë• –ê–∫—Ç—ë—Ä—ã:</strong>\n                                <span>${actors}</span>\n                            </div>\n                            <div class=\"detail-item\">\n                                <strong>üèÜ –ù–∞–≥—Ä–∞–¥—ã:</strong>\n                                <span>${movie.Awards || '–ù–µ —É–∫–∞–∑–∞–Ω—ã'}</span>\n                            </div>\n                            <div class=\"detail-item\">\n                                <strong>üìÖ –í—ã–ø—É—Å–∫:</strong>\n                                <span>${movie.Released}</span>\n                            </div>\n                            <div class=\"detail-item\">\n                                <strong>üíµ –°–±–æ—Ä—ã:</strong>\n                                <span>${movie.BoxOffice || '–ù–µ —É–∫–∞–∑–∞–Ω—ã'}</span>\n                            </div>\n                        </div>\n\n                        <div class=\"movie-plot\">\n                            <h4>üìñ –°—é–∂–µ—Ç</h4>\n                            <p>${plot}</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `;\n    }\n\n    // –§—É–Ω–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–∫–∏\n    function displayError(message) {\n        resultsContainer.innerHTML = `\n            <div class=\"card text-center error-state\">\n                <div class=\"error\">\n                    <h3 style=\"color: var(--accent-color); margin-bottom: 1rem;\">üòï –ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ —Ñ–∏–ª—å–º</h3>\n                    <p>${message}</p>\n                </div>\n            </div>\n        `;\n    }\n\n    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π\n    searchButton.addEventListener('click', () => {\n        const query = searchInput.value.trim();\n        searchMovie(query);\n    });\n\n    searchInput.addEventListener('keypress', (e) => {\n        if (e.key === 'Enter') {\n            const query = searchInput.value.trim();\n            searchMovie(query);\n        }\n    });\n\n    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –≤–≤–æ–¥–µ - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –æ—Ç–ø—Ä–∞–≤–∫—É —Ç–æ–ª—å–∫–æ –ø—Ä–æ–±–µ–ª–æ–≤\n    searchInput.addEventListener('input', () => {\n        if (isEmptyQuery(searchInput.value)) {\n            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –µ—Å–ª–∏ –ø–æ–ª–µ –ø—É—Å—Ç–æ–µ\n            resultsContainer.innerHTML = `\n                <div class=\"card text-center p-3 default-state\">\n                    <p style=\"color: var(--text-muted);\">–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞</p>\n                </div>\n            `;\n        }\n    });\n};"],"names":["Movies","apiKey","searchInput","searchButton","resultsContainer","isEmptyQuery","query","searchMovie","displayError","response","data","displayMovie","error","movie","rating","r","actors","director","genre","plot","poster","message"],"mappings":"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"}